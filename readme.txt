/* Алгоритм
 * 1) Пользователь переходит по реферальной ссылке
 * 2) Смотрим от кого он пришел и записываем данные в базу
 * 3) Показываем сообщение в котором каналы на которые надо подписаться и сформированная для него ссылка с реферальным кодом
 * 4) Рефереру сообщаем что подписался по его ссылке реферал и записываем ему в базу число рефералов
 *
 * 1) Пользователь подписывается на каналы
 * 2) Идет к нам и говорит "Я подписался"
 * 3) Проверяем так ли это
 * 4) Если да - то записываем в базу что он выполнил подписки
 * 5) Если нет - то показываем каналы на которые он не подписался
 *
 * Когда пользователь выполняет все условия отправляем ему сообщение что он молодец.
 * Проверяем это, и когда пользователь делает все подписки, и когда приглашает нужное количество пользователей
 *
 * Проверка результатов:
 * 1) Делаем запрос в базу чтобы выбрало тех, кто выполнил условия конкурса
 * 2) Собираем их айдишники
 * 3) Рандомным алгоритмом выбираем победителей
 *
 * ?Каналы для конкурса хранятся в отдельной таблице?
 *
 *  Для каждого конкурса новая таблица.
 *  Поля таблицы: id, username, chatid, referer, referertoken, selftoken, date, countreferal, countsubscribes, conditionscomplete, konkursid
 *
 * */